webpackJsonp([9,7],{

/***/ 1604:
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = __webpack_require__(154);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _regenerator = __webpack_require__(69);\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _requestData = __webpack_require__(1574);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n\n  namespace: 'time',\n\n  state: {\n    role: '1',\n    dealer: [{}],\n    cdealer: [{}]\n  },\n\n  subscriptions: {\n    setup: function setup(_ref) {\n      var dispatch = _ref.dispatch,\n          history = _ref.history;\n\n      return history.listen(function (_ref2) {\n        var pathname = _ref2.pathname,\n            query = _ref2.query;\n\n        if (pathname === '/timepage') {\n          dispatch({ type: 'fetch', payload: query });\n          dispatch({\n            type: 'dealer',\n            url: '/Ts_dealer/getAllData'\n          });\n        }\n      });\n    }\n  },\n\n  effects: {\n    fetch: _regenerator2.default.mark(function fetch(_ref3, _ref4) {\n      var payload = _ref3.payload;\n      var call = _ref4.call,\n          put = _ref4.put;\n      return _regenerator2.default.wrap(function fetch$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return put({ type: 'save' });\n\n            case 2:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, fetch, this);\n    }),\n    quertRange: _regenerator2.default.mark(function quertRange(_ref5, _ref6) {\n      var url = _ref5.url,\n          start = _ref5.start,\n          end = _ref5.end,\n          payload = _ref5.payload;\n      var call = _ref6.call,\n          put = _ref6.put;\n      var params, data;\n      return _regenerator2.default.wrap(function quertRange$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              // eslint-disable-line\n              params = {};\n              _context2.next = 3;\n              return call(_requestData.query, url, params);\n\n            case 3:\n              data = _context2.sent;\n\n            case 4:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, quertRange, this);\n    }),\n    dealer: _regenerator2.default.mark(function dealer(_ref7, _ref8) {\n      var url = _ref7.url;\n      var call = _ref8.call,\n          put = _ref8.put;\n      var data;\n      return _regenerator2.default.wrap(function dealer$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return call(_requestData.query, url);\n\n            case 2:\n              data = _context3.sent;\n\n              if (!data) {\n                _context3.next = 6;\n                break;\n              }\n\n              _context3.next = 6;\n              return put({\n                type: 'dealersuccess',\n                data: data.data\n              });\n\n            case 6:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, dealer, this);\n    }),\n    queryDealer: _regenerator2.default.mark(function queryDealer(_ref9, _ref10) {\n      var areaName = _ref9.areaName,\n          url = _ref9.url;\n      var call = _ref10.call,\n          put = _ref10.put,\n          select = _ref10.select;\n      var todos, data;\n      return _regenerator2.default.wrap(function queryDealer$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return select(function (state) {\n                return state.time.cdealer;\n              });\n\n            case 2:\n              todos = _context4.sent;\n\n              //const data = yield call(query,url,params);\n              data = [];\n\n\n              todos.map(function (item) {\n                //ap_brand\n                if (item.dealer_name && item.dealer_name.includes(areaName) || item.dealer_code && item.dealer_code.includes(areaName) || item.province && item.province.includes(areaName) || item.address && item.address.includes(areaName) || item.install_desc && item.install_desc.includes(areaName)) {\n                  data.push(item);\n                }\n              });\n\n              if (!data) {\n                _context4.next = 8;\n                break;\n              }\n\n              _context4.next = 8;\n              return put({\n                type: 'querydealersuccess',\n                data: data\n              });\n\n            case 8:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, queryDealer, this);\n    }),\n    querynativeDealer: _regenerator2.default.mark(function querynativeDealer(_ref11, _ref12) {\n      var areaName = _ref11.areaName,\n          url = _ref11.url;\n      var call = _ref12.call,\n          put = _ref12.put,\n          select = _ref12.select;\n      var todos;\n      return _regenerator2.default.wrap(function querynativeDealer$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return select(function (state) {\n                return state.time.cdealer;\n              });\n\n            case 2:\n              todos = _context5.sent;\n\n              if (!todos) {\n                _context5.next = 6;\n                break;\n              }\n\n              _context5.next = 6;\n              return put({\n                type: 'querydealersuccess',\n                data: todos\n              });\n\n            case 6:\n            case 'end':\n              return _context5.stop();\n          }\n        }\n      }, querynativeDealer, this);\n    })\n  },\n\n  reducers: {\n    save: function save(state, action) {\n      return (0, _extends3.default)({}, state, action.payload);\n    },\n    dealersuccess: function dealersuccess(state, action) {\n      //alert(action.data[0].dealer_id);\n      return (0, _extends3.default)({}, state, { dealer: action.data, cdealer: action.data });\n    },\n    querydealersuccess: function querydealersuccess(state, action) {\n      //alert(action.data[0].dealer_id);\n      return (0, _extends3.default)({}, state, { dealer: action.data });\n    }\n  }\n\n};\nmodule.exports = exports['default'];\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/models/time.js\n// module id = 1604\n// module chunks = 9\n//# sourceURL=webpack:///./src/models/time.js?");

/***/ }),

/***/ 1605:
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _dva = __webpack_require__(37);\n\nvar _TimePage = __webpack_require__(1606);\n\nvar _TimePage2 = _interopRequireDefault(_TimePage);\n\nvar _TimeDist = __webpack_require__(1607);\n\nvar _TimeDist2 = _interopRequireDefault(_TimeDist);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction TimePage(_ref) {\n  var location = _ref.location,\n      dispatch = _ref.dispatch,\n      time = _ref.time;\n\n  var models = _extends({}, time, {\n    quertRange: function quertRange(values) {\n      alert('quertRange');\n      dispatch({\n        type: '',\n        url: '',\n        start: values[0],\n        ecd: values[1]\n      });\n    },\n    queryDealer: function queryDealer(value) {\n      //console.log(value);\n      dispatch({\n        type: 'time/queryDealer',\n        areaName: value\n      });\n    },\n    querynativeDealer: function querynativeDealer() {\n      //console.log('querynativeDealer');\n      dispatch({\n        type: 'time/querynativeDealer'\n      });\n    }\n  });\n  return _react2.default.createElement(\n    'div',\n    { className: _TimePage2.default.body },\n    _react2.default.createElement(_TimeDist2.default, { model: models })\n  );\n}\n\nTimePage.propTypes = {};\n\nexports.default = (0, _dva.connect)(function (_ref2) {\n  var time = _ref2.time;\n  return { time: time };\n})(TimePage);\nmodule.exports = exports['default'];\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/routes/TimePage.jsx\n// module id = 1605\n// module chunks = 9\n//# sourceURL=webpack:///./src/routes/TimePage.jsx?");

/***/ }),

/***/ 1606:
/***/ (function(module, exports) {

	eval("// removed by extract-text-webpack-plugin\nmodule.exports = {\"body\":\"TimePage__body___1X9jY\"};\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/routes/TimePage.css\n// module id = 1606\n// module chunks = 9\n//# sourceURL=webpack:///./src/routes/TimePage.css?");

/***/ }),

/***/ 1607:
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _TimeDist = __webpack_require__(1608);\n\nvar _TimeDist2 = _interopRequireDefault(_TimeDist);\n\nvar _echarts = __webpack_require__(1109);\n\nvar _echarts2 = _interopRequireDefault(_echarts);\n\nvar _antd = __webpack_require__(409);\n\nvar _moment = __webpack_require__(518);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\n__webpack_require__(632);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TreeNode = _antd.TreeSelect.TreeNode;\nvar Option = _antd.Select.Option;\nvar RangePicker = _antd.DatePicker.RangePicker;\n\nvar TimeDist = function (_React$Component) {\n  _inherits(TimeDist, _React$Component);\n\n  function TimeDist(props) {\n    _classCallCheck(this, TimeDist);\n\n    var _this = _possibleConstructorReturn(this, (TimeDist.__proto__ || Object.getPrototypeOf(TimeDist)).call(this, props));\n\n    _this.selectChange = function (e) {\n      _this.props.model.dealer.map(function (item) {\n        if (item.dealer_name == e) {\n          _this.setState({\n            selectid: item.dealer_id\n          });\n        }\n      });\n\n      var _this$props$model = _this.props.model,\n          querynativeDealer = _this$props$model.querynativeDealer,\n          queryDealer = _this$props$model.queryDealer;\n\n      if (e.length == 0) {\n        querynativeDealer();\n      } else {\n        queryDealer(e);\n      }\n      //if (e.length==0){\n      //  this.setState({\n      //    selecttype: 0,\n      //  });\n      //}else {\n      //  const data=[];\n      //  this.props.dealerid.map(item=>{\n      //    //ap_brand\n      //    if((item.dealer_name&&item.dealer_name.includes(e))||(item.dealer_code&&item.dealer_code.includes(e))||\n      //      (item.province&&item.province.includes(e))||(item.address&&item.address.includes(e))\n      //    ){\n      //      data.push(\n      //        <Option key={item.dealer_id}>{item.dealer_name}</Option>\n      //      );\n      //    }\n      //  });\n      //  this.setState({\n      //    selecttype: 1,\n      //    data:data,\n      //  });\n      //}\n\n    };\n\n    _this.getselectoption = function (area) {\n      //console.log(array)\n      if (area.length > 0) {\n        return area.map(function (item, index) {\n          return _react2.default.createElement(\n            Option,\n            { key: index, value: item.dealer_name },\n            item.dealer_name\n          );\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(TimeDist, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.drawCharts();\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(value) {}\n  }, {\n    key: 'dataChange',\n    value: function dataChange(dates, dateStrings) {\n      this.props.model.quertRange(dateStrings);\n      //quertRange(dateStrings);\n      //alert(dateStrings[0]);\n    }\n  }, {\n    key: 'drawCharts',\n    value: function drawCharts() {\n      var myChart = _echarts2.default.init(this.refs.charts);\n      // 指定图表的配置项和数据\n      var options = {\n        tooltip: {\n          show: true\n        },\n        legend: {\n          show: false\n        },\n        grid: {\n          left: '1%',\n          right: '4%',\n          bottom: '3%',\n          containLabel: true\n        },\n        xAxis: [{\n          type: 'category',\n          data: [\"3-5min\", \"5-10min\", \"10-15min\", \"15-20min\", \"20-30min\", \"30-40min\", \"40-60min\", \"60-90min\", \"90-120min\", \"120-180min\", \"180min以上\"]\n        }],\n        yAxis: [{\n          type: 'value',\n          axisLine: {\n            lineStyle: {\n              color: '#8EB3E8' //颜色更换\n            }\n          },\n          splitLine: { show: false }\n        }],\n        series: [{\n          //name: '分享',\n          type: 'bar',\n          barWidth: '35%',\n          itemStyle: { normal: { color: '#8EB3E8' } },\n          data: [{\n            value: 119\n          }, {\n            value: 88\n          }, {\n            value: 70\n          }, {\n            value: 20\n          }, {\n            value: 5\n          }, {\n            value: 5\n          }, {\n            value: 5\n          }, {\n            value: 5\n          }, {\n            value: 5\n          }, {\n            value: 5\n          }, {\n            value: 5\n          }]\n        }]\n      };\n\n      // 绘制图表\n      myChart.setOption(options);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var dateFormat = 'YYYY-MM-DD';\n      var monthFormat = 'YYYY-MM';\n      return _react2.default.createElement(\n        'div',\n        { className: _TimeDist2.default.body },\n        _react2.default.createElement(\n          'div',\n          { className: _TimeDist2.default.time_top },\n          _react2.default.createElement(\n            'div',\n            { className: _TimeDist2.default.time_top_lable },\n            _react2.default.createElement(\n              _antd.Select,\n              {\n                mode: 'combobox',\n                size: 'default',\n                filterOption: false,\n                style: { width: 170 }\n                //placeholder=\"Please select\"\n                //defaultValue={['a10', 'c12']}\n                , onChange: this.selectChange\n              },\n              this.getselectoption(this.props.model.dealer)\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: _TimeDist2.default.time_top_time },\n            _react2.default.createElement(RangePicker, {\n              ranges: { Today: [(0, _moment2.default)(), (0, _moment2.default)()], 'This Month': [(0, _moment2.default)(), (0, _moment2.default)().endOf('month')] },\n              defaultValue: [(0, _moment2.default)('2015/01/01', dateFormat), (0, _moment2.default)('2015/01/01', dateFormat)],\n              format: dateFormat,\n              onChange: this.dataChange.bind(this)\n            })\n          )\n        ),\n        _react2.default.createElement('div', { ref: 'charts', className: _TimeDist2.default.time_chart })\n      );\n    }\n  }]);\n\n  return TimeDist;\n}(_react2.default.Component);\n\nTimeDist.propTypes = {};\nexports.default = TimeDist;\nmodule.exports = exports['default'];\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/time/TimeDist.jsx\n// module id = 1607\n// module chunks = 9\n//# sourceURL=webpack:///./src/components/time/TimeDist.jsx?");

/***/ }),

/***/ 1608:
/***/ (function(module, exports) {

	eval("// removed by extract-text-webpack-plugin\nmodule.exports = {\"body\":\"TimeDist__body___Q3bXb\",\"time_top\":\"TimeDist__time_top___BxLe7\",\"time_top_lable\":\"TimeDist__time_top_lable___1XPFF\",\"time_top_time\":\"TimeDist__time_top_time___1GW6n\",\"time_top_icon\":\"TimeDist__time_top_icon___yZXsj\",\"time_top_start\":\"TimeDist__time_top_start___3ZG4E\",\"time_top_end\":\"TimeDist__time_top_end___150Zc\",\"time_chart\":\"TimeDist__time_chart___369s5\"};\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/time/TimeDist.css\n// module id = 1608\n// module chunks = 9\n//# sourceURL=webpack:///./src/components/time/TimeDist.css?");

/***/ })

});